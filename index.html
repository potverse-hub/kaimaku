<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kaimaku - Anime Opening Ratings</title>
    <link rel="icon" type="image/png" href="logoatsu.png">
    <link rel="shortcut icon" type="image/png" href="logoatsu.png">
    <link rel="apple-touch-icon" href="logoatsu.png">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="background-gradient"></div>
    
    <nav class="navbar">
        <div class="navbar-content">
            <button id="homeBtn" class="nav-home-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                Home
            </button>
            <div class="navbar-search">
                <input 
                    type="text" 
                    id="navbarSearchInput" 
                    class="navbar-search-input" 
                    placeholder="Search openings..."
                    autocomplete="off"
                />
                <button id="navbarSearchBtn" class="navbar-search-btn">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                </button>
            </div>
            <div class="navbar-auth">
                <button id="themeToggle" class="nav-icon-btn" title="Toggle theme">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <button id="viewToggle" class="nav-icon-btn" title="Toggle view (Grid/List)">
                    <svg id="gridIcon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"></rect>
                        <rect x="14" y="3" width="7" height="7"></rect>
                        <rect x="14" y="14" width="7" height="7"></rect>
                        <rect x="3" y="14" width="7" height="7"></rect>
                    </svg>
                    <svg id="listIcon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                        <line x1="8" y1="6" x2="21" y2="6"></line>
                        <line x1="8" y1="12" x2="21" y2="12"></line>
                        <line x1="8" y1="18" x2="21" y2="18"></line>
                        <line x1="3" y1="6" x2="3.01" y2="6"></line>
                        <line x1="3" y1="12" x2="3.01" y2="12"></line>
                        <line x1="3" y1="18" x2="3.01" y2="18"></line>
                    </svg>
                </button>
                <span id="userDisplay" class="user-display" style="display: none;"></span>
                <button id="loginBtn" class="nav-auth-btn">Login</button>
                <button id="registerBtn" class="nav-auth-btn">Register</button>
                <button id="logoutBtn" class="nav-auth-btn" style="display: none;">Logout</button>
            </div>
        </div>
    </nav>
    
    <!-- Login/Register Modal -->
    <div id="authModal" class="auth-modal hidden">
        <div class="auth-modal-content">
            <button id="closeAuthModal" class="auth-modal-close">&times;</button>
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">Login</button>
                <button class="auth-tab" data-tab="register">Register</button>
            </div>
            <div id="loginForm" class="auth-form">
                <input type="text" id="loginUsername" placeholder="Username" autocomplete="username">
                <input type="password" id="loginPassword" placeholder="Password" autocomplete="current-password">
                <button id="submitLogin" class="btn-primary">Login</button>
                <p id="loginError" class="auth-error"></p>
            </div>
            <div id="registerForm" class="auth-form hidden">
                <input type="text" id="registerUsername" placeholder="Username" autocomplete="username">
                <input type="password" id="registerPassword" placeholder="Password" autocomplete="new-password">
                <input type="password" id="registerConfirmPassword" placeholder="Confirm Password" autocomplete="new-password">
                <div class="captcha-container">
                    <div class="captcha-question">
                        <span id="captchaQuestion"></span>
                        <button type="button" id="refreshCaptcha" class="captcha-refresh" title="Refresh CAPTCHA">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path>
                                <path d="M21 3v5h-5"></path>
                                <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path>
                                <path d="M3 21v-5h5"></path>
                            </svg>
                        </button>
                    </div>
                    <input type="number" id="captchaAnswer" placeholder="Enter answer" autocomplete="off">
                </div>
                <button id="submitRegister" class="btn-primary">Register</button>
                <p id="registerError" class="auth-error"></p>
            </div>
        </div>
    </div>
    
    <div class="container">
        <div class="home-content">
            <header class="header">
                <h1 class="title">
                    <span class="title-main">Kaimaku</span>
                    <span class="title-sub">Rate Every Anime Opening</span>
                </h1>
                <p class="header-description">Discover, rate, and explore anime openings from every season</p>
            </header>

            <div class="search-section">
            <div class="search-container-wrapper">
                <div class="search-container">
                    <input 
                        type="text" 
                        id="searchInput" 
                        class="search-input" 
                        placeholder="Search anime openings..."
                        autocomplete="off"
                    />
                    <button id="filterBtn" class="search-btn" title="Filters & Sort">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
                        </svg>
                        <span id="filterBadge" class="filter-badge hidden">0</span>
                    </button>
                </div>
                
                <!-- Filter Dropdown -->
                <div id="filterDropdown" class="filter-dropdown hidden">
                    <div class="filter-dropdown-content">
                        <div class="filter-section">
                            <h4 class="filter-section-title">Sort By</h4>
                            <select id="sortSelect" class="sort-select">
                                <option value="relevance">Relevance</option>
                                <option value="rating-desc">Rating (High to Low)</option>
                                <option value="rating-asc">Rating (Low to High)</option>
                                <option value="popularity">Popularity</option>
                                <option value="year-desc">Year (Newest)</option>
                                <option value="year-asc">Year (Oldest)</option>
                                <option value="alphabetical">Alphabetical</option>
                            </select>
                        </div>
                        
                        <div class="filter-section">
                            <h4 class="filter-section-title">Year Range</h4>
                            <div class="filter-inputs">
                                <input type="number" id="yearMin" class="filter-input" placeholder="Min" min="1970" max="2025">
                                <span class="filter-separator">-</span>
                                <input type="number" id="yearMax" class="filter-input" placeholder="Max" min="1970" max="2025">
                            </div>
                        </div>
                        
                        <div class="filter-section">
                            <h4 class="filter-section-title">Season</h4>
                            <div class="filter-checkboxes">
                                <label class="filter-checkbox"><input type="checkbox" value="Winter" class="season-filter"> Winter</label>
                                <label class="filter-checkbox"><input type="checkbox" value="Spring" class="season-filter"> Spring</label>
                                <label class="filter-checkbox"><input type="checkbox" value="Summer" class="season-filter"> Summer</label>
                                <label class="filter-checkbox"><input type="checkbox" value="Fall" class="season-filter"> Fall</label>
                            </div>
                        </div>
                        
                        <div class="filter-section">
                            <h4 class="filter-section-title">Rating Range</h4>
                            <div class="filter-inputs">
                                <input type="number" id="ratingMin" class="filter-input" placeholder="Min" min="0" max="10" step="0.5">
                                <span class="filter-separator">-</span>
                                <input type="number" id="ratingMax" class="filter-input" placeholder="Max" min="0" max="10" step="0.5">
                            </div>
                        </div>
                        
                        <div class="filter-dropdown-footer">
                            <button id="clearFilters" class="btn-secondary">Clear All</button>
                            <button id="applyFilters" class="btn-primary">Apply Filters</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Discovery Buttons -->
            <div class="discovery-buttons">
                <button id="randomOpeningBtn" class="discovery-btn" title="Random Opening (R)">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="1 4 1 10 7 10"></polyline>
                        <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
                    </svg>
                    Random
                </button>
                <button id="trendingBtn" class="discovery-btn" title="Trending Openings">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                        <polyline points="17 6 23 6 23 12"></polyline>
                    </svg>
                    Trending
                </button>
                <button id="dailyFeaturedBtn" class="discovery-btn" title="Daily Featured Opening">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                    Daily Featured
                </button>
            </div>
            
            <div id="searchResults" class="search-results"></div>
            </div>

            <div id="featuredOpenings" class="featured-openings">
                <h3 class="section-title">Featured - Current Season</h3>
                <p class="section-subtitle">Currently Airing Anime Openings</p>
                <div id="featuredList" class="featured-list"></div>
            </div>

            <div id="leaderboard" class="leaderboard">
                <h3 class="section-title">Top Rated Openings</h3>
                <p class="section-subtitle">Highest Rated Anime Openings</p>
                <div id="leaderboardList" class="leaderboard-list"></div>
            </div>
        </div>

        <div id="playerSection" class="player-section hidden">
            <div class="player-container">
                <div class="video-wrapper">
                    <video id="videoPlayer" class="video-player" preload="auto" playsinline webkit-playsinline></video>
                    <div class="video-overlay">
                        <div class="loading-spinner"></div>
                    </div>
                    <div class="custom-controls">
                        <div class="controls-progress">
                            <div class="progress-bar">
                                <div class="progress-filled" id="progressFilled"></div>
                                <div class="progress-handle" id="progressHandle"></div>
                            </div>
                        </div>
                        <div class="controls-bottom">
                            <div class="controls-left">
                                <button class="control-btn" id="playPauseBtn" title="Play/Pause">
                                    <svg class="play-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M8 5v14l11-7z"/>
                                    </svg>
                                    <svg class="pause-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="display: none;">
                                        <path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>
                                    </svg>
                                </button>
                                <div class="time-display">
                                    <span id="currentTime">0:00</span>
                                    <span class="time-separator">/</span>
                                    <span id="totalTime">0:00</span>
                                </div>
                            </div>
                            <div class="controls-right">
                                <button class="control-btn" id="muteBtn" title="Mute/Unmute">
                                    <svg class="volume-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                                    </svg>
                                    <svg class="mute-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="display: none;">
                                        <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
                                    </svg>
                                </button>
                                <div class="volume-control">
                                    <input type="range" id="volumeSlider" class="volume-slider" min="0" max="1" step="0.01" value="1">
                                </div>
                                <button class="control-btn" id="fullscreenBtn" title="Fullscreen">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="player-info">
                    <h2 id="animeTitle" class="anime-title"></h2>
                    <p id="themeInfo" class="theme-info"></p>
                    <div id="animeInfo" class="anime-info"></div>
                    <div class="player-content-row">
                        <div id="animeSynopsis" class="anime-synopsis"></div>
                        <div class="rating-container">
                            <div class="rating-label">Your Rating:</div>
                            <div class="rating-slider-container">
                                <input type="range" id="ratingSlider" class="rating-slider" min="0" max="10" step="0.5" value="0">
                                <div class="rating-slider-labels">
                                    <span>0</span>
                                    <span>5</span>
                                    <span>10</span>
                                </div>
                                <div class="rating-display">
                                    <span class="rating-number" id="ratingNumber">-</span>
                                    <span class="rating-out-of">/10</span>
                                </div>
                            </div>
                            <div class="rating-quick-buttons">
                                <button class="quick-rating-btn" data-rating="1">1</button>
                                <button class="quick-rating-btn" data-rating="2">2</button>
                                <button class="quick-rating-btn" data-rating="3">3</button>
                                <button class="quick-rating-btn" data-rating="4">4</button>
                                <button class="quick-rating-btn" data-rating="5">5</button>
                                <button class="quick-rating-btn" data-rating="6">6</button>
                                <button class="quick-rating-btn" data-rating="7">7</button>
                                <button class="quick-rating-btn" data-rating="8">8</button>
                                <button class="quick-rating-btn" data-rating="9">9</button>
                                <button class="quick-rating-btn" data-rating="10">10</button>
                            </div>
                        </div>
                    </div>
                    <div class="player-actions">
                        <button id="closePlayer" class="btn-secondary">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="notification" id="notification"></div>
    
    <footer class="footer">
        <div class="footer-content">
            <p class="footer-text">Â© 2024 Kaimaku - Rate Every Anime Opening</p>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
